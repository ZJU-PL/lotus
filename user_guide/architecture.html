

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Architecture Overview &mdash; Arlib Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=a74d790d"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Quick Start Guide" href="quickstart.html" />
    <link rel="prev" title="Major Components Overview" href="major_components.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Lotus
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="major_components.html">Major Components Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Architecture Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-architecture">System Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#core-components">Core Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="#analysis-flow">Analysis Flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#typical-analysis-pipeline">Typical Analysis Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-null-pointer-detection">Example: Null Pointer Detection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pointer-analysis-architectures">Pointer Analysis Architectures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aserpta-architecture">AserPTA Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lotusaa-architecture">LotusAA Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dyckaa-architecture">DyckAA Architecture</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#abstract-interpretation-flow-clam">Abstract Interpretation Flow (CLAM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-structures">Data Structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#points-to-sets">Points-To Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constraint-graphs">Constraint Graphs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#value-flow-graphs">Value Flow Graphs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#program-dependence-graphs">Program Dependence Graphs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#memory-models">Memory Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#field-sensitive">Field-Sensitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#field-insensitive">Field-Insensitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flow-sensitive">Flow-Sensitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flow-insensitive">Flow-Insensitive</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#context-sensitivity">Context Sensitivity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#context-insensitive">Context-Insensitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#k-cfa-k-call-site-sensitive">K-CFA (K-Call-Site Sensitive)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#object-sensitive">Object-Sensitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#origin-sensitive">Origin-Sensitive</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#integration-points">Integration Points</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#llvm-pass-integration">LLVM Pass Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standalone-tools">Standalone Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-integration">Python Integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#performance-considerations">Performance Considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scalability-strategies">Scalability Strategies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#precision-vs-performance">Precision vs. Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recommended-configurations">Recommended Configurations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#extension-points">Extension Points</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-analyses">Adding New Analyses</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-checkers">Adding New Checkers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-abstract-domains">Adding New Abstract Domains</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials and Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="bug_detection.html">Bug Detection with Lotus</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdg_query_language.html">PDG Query Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting and FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Command-Line Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Core Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../alias/index.html">Alias Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analysis/index.html">Analysis Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../annotation/index.html">Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cfl/index.html">Context-Free Language Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataflow/index.html">Data Flow Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ir/index.html">Intermediate Representations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../solvers/index.html">Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../transform/index.html">Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html">Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer/api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/developer_guide.html">Developer Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Lotus</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Architecture Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user_guide/architecture.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="architecture-overview">
<h1>Architecture Overview<a class="headerlink" href="#architecture-overview" title="Link to this heading"></a></h1>
<p>This document provides a comprehensive overview of the Lotus architecture, describing how the different components interact and how they are organized.</p>
<section id="system-architecture">
<h2>System Architecture<a class="headerlink" href="#system-architecture" title="Link to this heading"></a></h2>
<p>Lotus is organized into several major subsystems that work together to provide a comprehensive program analysis framework:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>┌──────────────────────────────────────────────────────────────┐
│                      Command-Line Tools                       │
│  (aser-aa, dyck-aa, lotus-aa, lotus-kint, clam, etc.)       │
└────────────────┬─────────────────────────────────────────────┘
                 │
┌────────────────┴─────────────────────────────────────────────┐
│                    Analysis Applications                      │
│  - Bug Checkers (Kint, GVFA, Taint, Concurrency)            │
│  - Abstract Interpreters (CLAM, Sprattus)                    │
│  - Fuzzing Support (Titan)                                   │
└────┬────────────┬────────────┬────────────┬─────────────────┘
     │            │            │            │
┌────┴────┐  ┌───┴────┐  ┌───┴────┐  ┌────┴─────┐
│ Alias   │  │  IR    │  │ Data   │  │ Solvers  │
│ Analysis│  │ (PDG,  │  │ Flow   │  │ (SMT,    │
│         │  │  VFG)  │  │        │  │  BDD)    │
└────┬────┘  └───┬────┘  └───┬────┘  └────┬─────┘
     │           │           │            │
┌────┴───────────┴───────────┴────────────┴─────────────────┐
│                    LLVM Infrastructure                      │
│            (Module, Function, BasicBlock, etc.)            │
└────────────────────────────────────────────────────────────┘
</pre></div>
</div>
</section>
<section id="core-components">
<h2>Core Components<a class="headerlink" href="#core-components" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p><strong>Alias Analysis</strong> (<code class="docutils literal notranslate"><span class="pre">lib/Alias/</span></code>, <code class="docutils literal notranslate"><span class="pre">include/Alias/</span></code>)</p>
<p>Multiple pointer analysis algorithms with different precision-performance trade-offs:</p>
<ul class="simple">
<li><p><strong>DyckAA</strong>: Unification-based, exhaustive alias analysis with Dyck-CFL reachability</p></li>
<li><p><strong>AserPTA</strong>: Constraint-based pointer analysis with multiple context sensitivities</p></li>
<li><p><strong>LotusAA</strong>: Flow-sensitive, field-sensitive interprocedural analysis</p></li>
<li><p><strong>Sea-DSA</strong>: Context-sensitive DSA-based memory analysis</p></li>
<li><p><strong>Andersen</strong>: Fast context-insensitive inclusion-based analysis</p></li>
<li><p><strong>FPA</strong>: Function pointer analysis (FLTA, MLTA, MLTADF, KELP)</p></li>
<li><p><strong>SRAA</strong>: Strict Relation Alias Analysis using range analysis</p></li>
<li><p><strong>OriginAA</strong>: Origin-sensitive analysis for thread creation tracking</p></li>
<li><p><strong>DynAA</strong>: Dynamic validation of static alias analysis results</p></li>
</ul>
</li>
<li><p><strong>Intermediate Representations</strong> (<code class="docutils literal notranslate"><span class="pre">lib/IR/</span></code>, <code class="docutils literal notranslate"><span class="pre">include/IR/</span></code>)</p>
<p>Specialized graph representations for program analysis:</p>
<ul class="simple">
<li><p><strong>PDG (Program Dependence Graph)</strong>: Captures data and control dependencies</p></li>
<li><p><strong>DyckVFG (Value Flow Graph)</strong>: Tracks value flow for Dyck-based analyses</p></li>
<li><p><strong>Call Graphs</strong>: Multiple call graph implementations (PDG, Dyck, AserPTA)</p></li>
</ul>
</li>
<li><p><strong>Data Flow Analysis</strong> (<code class="docutils literal notranslate"><span class="pre">lib/Dataflow/</span></code>, <code class="docutils literal notranslate"><span class="pre">include/Dataflow/</span></code>)</p>
<p>IFDS/IDE framework for interprocedural data flow problems:</p>
<ul class="simple">
<li><p><strong>Taint Analysis</strong>: Tracks tainted data from sources to sinks</p></li>
<li><p><strong>Reaching Definitions</strong>: Identifies definition-use chains</p></li>
<li><p><strong>GVFA (Global Value Flow Analysis)</strong>: Tracks value propagation globally</p></li>
</ul>
</li>
<li><p><strong>Constraint Solving</strong> (<code class="docutils literal notranslate"><span class="pre">lib/Solvers/</span></code>, <code class="docutils literal notranslate"><span class="pre">include/Solvers/</span></code>)</p>
<p>Multiple solver backends for different analysis needs:</p>
<ul class="simple">
<li><p><strong>SMT Solver</strong>: Z3-based reasoning for precise constraint solving</p></li>
<li><p><strong>BDD Solver</strong>: CUDD-based symbolic set operations</p></li>
<li><p><strong>WPDS</strong>: Weighted pushdown systems for interprocedural reachability</p></li>
</ul>
</li>
<li><p><strong>Abstract Interpretation</strong> (<code class="docutils literal notranslate"><span class="pre">lib/Apps/clam/</span></code>, <code class="docutils literal notranslate"><span class="pre">lib/Analysis/Sprattus/</span></code>)</p>
<p>Numerical and symbolic abstract domains:</p>
<ul class="simple">
<li><p><strong>CLAM</strong>: Abstract interpretation with multiple domains (intervals, zones, octagons, polyhedra)</p></li>
<li><p><strong>Sprattus</strong>: Configurable abstract interpretation with domain composition</p></li>
</ul>
</li>
<li><p><strong>Analysis Utilities</strong> (<code class="docutils literal notranslate"><span class="pre">lib/Analysis/</span></code>, <code class="docutils literal notranslate"><span class="pre">include/Analysis/</span></code>)</p>
<p>Supporting analysis components:</p>
<ul class="simple">
<li><p><strong>CFG Analysis</strong>: Control flow graph utilities</p></li>
<li><p><strong>Concurrency Analysis</strong>: Thread-aware analysis (MHP, lock sets)</p></li>
<li><p><strong>Null Pointer Analysis</strong>: Multiple null checking algorithms</p></li>
<li><p><strong>Range Analysis</strong>: Value range analysis for integers</p></li>
</ul>
</li>
<li><p><strong>Bug Detection</strong> (<code class="docutils literal notranslate"><span class="pre">lib/Checker/</span></code>)</p>
<p>Security and safety bug detection:</p>
<ul class="simple">
<li><p><strong>Kint</strong>: Integer overflow, division by zero, array bounds checking</p></li>
<li><p><strong>GVFA</strong>: Null pointer dereference, use-after-free detection</p></li>
<li><p><strong>Taint</strong>: Information flow and taint-style vulnerabilities</p></li>
<li><p><strong>Concurrency</strong>: Race conditions and deadlock detection</p></li>
</ul>
</li>
<li><p><strong>CFL Reachability</strong> (<code class="docutils literal notranslate"><span class="pre">lib/CFL/</span></code>, <code class="docutils literal notranslate"><span class="pre">include/CFL/</span></code>)</p>
<p>Context-Free Language reachability engines:</p>
<ul class="simple">
<li><p><strong>Graspan</strong>: Graph-based parallel CFL reachability</p></li>
<li><p><strong>CSR</strong>: Compressed sparse row-based CFL solver</p></li>
<li><p><strong>POCR</strong>: Partially-ordered CFL reachability</p></li>
</ul>
</li>
</ol>
</section>
<section id="analysis-flow">
<h2>Analysis Flow<a class="headerlink" href="#analysis-flow" title="Link to this heading"></a></h2>
<section id="typical-analysis-pipeline">
<h3>Typical Analysis Pipeline<a class="headerlink" href="#typical-analysis-pipeline" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>LLVM IR Input</strong>: Start with LLVM bitcode (<code class="docutils literal notranslate"><span class="pre">.bc</span></code>) or IR (<code class="docutils literal notranslate"><span class="pre">.ll</span></code>)</p></li>
<li><p><strong>Preprocessing</strong> (Optional):</p>
<ul class="simple">
<li><p>Lower unsupported constructs</p></li>
<li><p>Canonicalize representations</p></li>
<li><p>Devirtualization</p></li>
<li><p>Memory operation normalization</p></li>
</ul>
</li>
<li><p><strong>Core Analysis</strong>:</p>
<ul class="simple">
<li><p>Build call graph</p></li>
<li><p>Perform alias analysis</p></li>
<li><p>Construct intermediate representations (PDG, VFG)</p></li>
<li><p>Run specialized analyses (taint, null pointer, etc.)</p></li>
</ul>
</li>
<li><p><strong>Bug Detection/Verification</strong>:</p>
<ul class="simple">
<li><p>Apply checkers</p></li>
<li><p>Validate properties</p></li>
<li><p>Generate reports</p></li>
</ul>
</li>
<li><p><strong>Output</strong>:</p>
<ul class="simple">
<li><p>Text reports</p></li>
<li><p>JSON/SARIF output</p></li>
<li><p>DOT graphs for visualization</p></li>
</ul>
</li>
</ol>
</section>
<section id="example-null-pointer-detection">
<h3>Example: Null Pointer Detection<a class="headerlink" href="#example-null-pointer-detection" title="Link to this heading"></a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Input: program.bc
   ↓
[Preprocessing]
   ↓
[Alias Analysis] → Points-to sets
   ↓
[Build VFG] → Value flow graph
   ↓
[Null Flow Analysis] → Track null values
   ↓
[Check Dereferences] → Identify potential NPDs
   ↓
Output: Bug report
</pre></div>
</div>
</section>
</section>
<section id="pointer-analysis-architectures">
<h2>Pointer Analysis Architectures<a class="headerlink" href="#pointer-analysis-architectures" title="Link to this heading"></a></h2>
<section id="aserpta-architecture">
<h3>AserPTA Architecture<a class="headerlink" href="#aserpta-architecture" title="Link to this heading"></a></h3>
<p>AserPTA uses a constraint-based approach with multiple solver strategies:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>LLVM IR
   ↓
[Preprocessing]
   ├─ Canonicalize GEP
   ├─ Lower memcpy
   ├─ Remove exception handlers
   └─ Normalize heap APIs
   ↓
[Constraint Collection]
   ├─ addr_of: p = &amp;obj
   ├─ copy: p = q
   ├─ load: p = *q
   ├─ store: *p = q
   └─ offset: p = &amp;obj-&gt;field
   ↓
[Constraint Graph]
   ├─ Nodes: Pointers and Objects
   └─ Edges: Constraints
   ↓
[Solver] (WavePropagation / DeepPropagation)
   ├─ SCC detection
   ├─ Differential propagation
   └─ Cycle elimination
   ↓
Points-to Sets
</pre></div>
</div>
</section>
<section id="lotusaa-architecture">
<h3>LotusAA Architecture<a class="headerlink" href="#lotusaa-architecture" title="Link to this heading"></a></h3>
<p>LotusAA provides flow-sensitive, field-sensitive analysis:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>LLVM Module
   ↓
[Global Analysis]
   ↓
[Iterative Analysis Loop]
   ├─ [Bottom-Up Traversal]
   │     ├─ Process each function
   │     ├─ Build summaries
   │     └─ Collect interfaces
   │
   ├─ [Call Graph Construction]
   │     ├─ Resolve indirect calls
   │     └─ Update call graph
   │
   └─ [Fixpoint Check]
         ├─ Detect changes
         └─ Reanalyze if needed
   ↓
Final Points-to Sets + Call Graph
</pre></div>
</div>
</section>
<section id="dyckaa-architecture">
<h3>DyckAA Architecture<a class="headerlink" href="#dyckaa-architecture" title="Link to this heading"></a></h3>
<p>DyckAA uses Dyck-CFL reachability for precise alias analysis:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>LLVM IR
   ↓
[Build Dyck Graph]
   ├─ Field edges: *[field]*
   ├─ Dereference edges: *(*
   └─ Assignment edges: *()*
   ↓
[Dyck-CFL Reachability]
   ├─ Compute reachability
   └─ Unify nodes
   ↓
[Alias Sets]
   ↓
[Applications]
   ├─ Call graph construction
   ├─ ModRef analysis
   └─ Value flow analysis
</pre></div>
</div>
</section>
</section>
<section id="abstract-interpretation-flow-clam">
<h2>Abstract Interpretation Flow (CLAM)<a class="headerlink" href="#abstract-interpretation-flow-clam" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>LLVM Bitcode
   ↓
[clam-pp Preprocessing]
   ├─ Lower unsigned comparisons
   ├─ Lower select instructions
   └─ Devirtualization
   ↓
[CrabIR Translation]
   ├─ Convert LLVM IR to CrabIR
   ├─ Apply memory abstraction
   └─ Integrate heap analysis (Sea-DSA)
   ↓
[Abstract Interpretation]
   ├─ Select domain (int, zones, oct, pk)
   ├─ Compute fixpoint
   └─ Generate invariants
   ↓
[Property Checking]
   ├─ Check assertions
   ├─ Check null pointers
   ├─ Check buffer bounds
   └─ Check use-after-free
   ↓
[Output]
   ├─ Invariants (text/JSON)
   ├─ Verification results
   └─ Warnings/errors
</pre></div>
</div>
</section>
<section id="data-structures">
<h2>Data Structures<a class="headerlink" href="#data-structures" title="Link to this heading"></a></h2>
<section id="points-to-sets">
<h3>Points-To Sets<a class="headerlink" href="#points-to-sets" title="Link to this heading"></a></h3>
<p>Different analyses use different representations:</p>
<ul class="simple">
<li><p><strong>Sparse BitVector</strong>: Fast set operations (AserPTA)</p></li>
<li><p><strong>Dense Sets</strong>: Precise membership testing (Andersen)</p></li>
<li><p><strong>Equivalence Classes</strong>: Unification-based (DyckAA, Sea-DSA)</p></li>
</ul>
</section>
<section id="constraint-graphs">
<h3>Constraint Graphs<a class="headerlink" href="#constraint-graphs" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Nodes</strong>: Represent pointers and objects</p></li>
<li><p><strong>Edges</strong>: Represent constraints (copy, load, store, offset)</p></li>
<li><p><strong>Super Nodes</strong>: Collapsed SCCs for efficiency</p></li>
</ul>
</section>
<section id="value-flow-graphs">
<h3>Value Flow Graphs<a class="headerlink" href="#value-flow-graphs" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Nodes</strong>: Values and memory locations</p></li>
<li><p><strong>Edges</strong>: Data flow and pointer propagation</p></li>
<li><p><strong>Contexts</strong>: Call-site or object sensitivity</p></li>
</ul>
</section>
<section id="program-dependence-graphs">
<h3>Program Dependence Graphs<a class="headerlink" href="#program-dependence-graphs" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Nodes</strong>: Instructions, functions, parameters</p></li>
<li><p><strong>Edges</strong>: Data dependencies, control dependencies, parameter bindings</p></li>
<li><p><strong>Trees</strong>: Hierarchical parameter representations for field sensitivity</p></li>
</ul>
</section>
</section>
<section id="memory-models">
<h2>Memory Models<a class="headerlink" href="#memory-models" title="Link to this heading"></a></h2>
<section id="field-sensitive">
<h3>Field-Sensitive<a class="headerlink" href="#field-sensitive" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Track individual struct fields separately</p></li>
<li><p>More precise but more expensive</p></li>
<li><p>Used by AserPTA (optional), LotusAA, Sea-DSA</p></li>
</ul>
</section>
<section id="field-insensitive">
<h3>Field-Insensitive<a class="headerlink" href="#field-insensitive" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Treat entire objects as single entities</p></li>
<li><p>Faster but less precise</p></li>
<li><p>Used by Andersen, basic AserPTA mode</p></li>
</ul>
</section>
<section id="flow-sensitive">
<h3>Flow-Sensitive<a class="headerlink" href="#flow-sensitive" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Track different points-to sets at different program points</p></li>
<li><p>Most precise but most expensive</p></li>
<li><p>Used by LotusAA</p></li>
</ul>
</section>
<section id="flow-insensitive">
<h3>Flow-Insensitive<a class="headerlink" href="#flow-insensitive" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Single points-to set per variable across entire program</p></li>
<li><p>Faster, less precise</p></li>
<li><p>Used by most analyses (AserPTA, Andersen, DyckAA)</p></li>
</ul>
</section>
</section>
<section id="context-sensitivity">
<h2>Context Sensitivity<a class="headerlink" href="#context-sensitivity" title="Link to this heading"></a></h2>
<section id="context-insensitive">
<h3>Context-Insensitive<a class="headerlink" href="#context-insensitive" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Single analysis for each function</p></li>
<li><p>Fast but imprecise for recursion and callbacks</p></li>
<li><p>Used by Andersen, basic DyckAA</p></li>
</ul>
</section>
<section id="k-cfa-k-call-site-sensitive">
<h3>K-CFA (K-Call-Site Sensitive)<a class="headerlink" href="#k-cfa-k-call-site-sensitive" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Distinguish calls by up to K call sites on stack</p></li>
<li><p>Good precision-performance trade-off</p></li>
<li><p>Supported by AserPTA (1-CFA, 2-CFA)</p></li>
</ul>
</section>
<section id="object-sensitive">
<h3>Object-Sensitive<a class="headerlink" href="#object-sensitive" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Distinguish by allocation site of receiver object</p></li>
<li><p>Good for object-oriented code</p></li>
<li><p>Can be emulated in Lotus</p></li>
</ul>
</section>
<section id="origin-sensitive">
<h3>Origin-Sensitive<a class="headerlink" href="#origin-sensitive" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Track thread creation contexts</p></li>
<li><p>Specialized for concurrent programs</p></li>
<li><p>Supported by AserPTA, OriginAA</p></li>
</ul>
</section>
</section>
<section id="integration-points">
<h2>Integration Points<a class="headerlink" href="#integration-points" title="Link to this heading"></a></h2>
<section id="llvm-pass-integration">
<h3>LLVM Pass Integration<a class="headerlink" href="#llvm-pass-integration" title="Link to this heading"></a></h3>
<p>All analyses are implemented as LLVM passes and can be integrated into any LLVM-based tool:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;Alias/DyckAA/DyckAliasAnalysis.h&quot;</span>

<span class="c1">// Register pass</span>
<span class="n">PassRegistry</span><span class="w"> </span><span class="o">&amp;</span><span class="n">Registry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">PassRegistry</span><span class="o">::</span><span class="n">getPassRegistry</span><span class="p">();</span>
<span class="n">initializeDyckAliasAnalysisPass</span><span class="p">(</span><span class="n">Registry</span><span class="p">);</span>

<span class="c1">// Use in pass manager</span>
<span class="n">legacy</span><span class="o">::</span><span class="n">PassManager</span><span class="w"> </span><span class="n">PM</span><span class="p">;</span>
<span class="n">PM</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">DyckAliasAnalysis</span><span class="p">());</span>
<span class="n">PM</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="k">module</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="standalone-tools">
<h3>Standalone Tools<a class="headerlink" href="#standalone-tools" title="Link to this heading"></a></h3>
<p>Each major component has standalone command-line tools:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">aser-aa</span></code>, <code class="docutils literal notranslate"><span class="pre">dyck-aa</span></code>, <code class="docutils literal notranslate"><span class="pre">lotus-aa</span></code>: Alias analysis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lotus-kint</span></code>, <code class="docutils literal notranslate"><span class="pre">lotus-gvfa</span></code>, <code class="docutils literal notranslate"><span class="pre">lotus-taint</span></code>: Bug detection</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clam</span></code>, <code class="docutils literal notranslate"><span class="pre">clam-pp</span></code>, <code class="docutils literal notranslate"><span class="pre">clam-diff</span></code>: Abstract interpretation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdg-query</span></code>: PDG queries</p></li>
</ul>
</section>
<section id="python-integration">
<h3>Python Integration<a class="headerlink" href="#python-integration" title="Link to this heading"></a></h3>
<p>Python scripts provide high-level interfaces:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">clam.py</span></code>: Full analysis pipeline with compilation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clam-yaml.py</span></code>: Configuration-based analysis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seapy</span></code>: SeaHorn integration</p></li>
</ul>
</section>
</section>
<section id="performance-considerations">
<h2>Performance Considerations<a class="headerlink" href="#performance-considerations" title="Link to this heading"></a></h2>
<section id="scalability-strategies">
<h3>Scalability Strategies<a class="headerlink" href="#scalability-strategies" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Context Pruning</strong>: Limit context depth (K in K-CFA)</p></li>
<li><p><strong>SCC Collapsing</strong>: Merge strongly connected components</p></li>
<li><p><strong>Lazy Evaluation</strong>: Compute results on demand</p></li>
<li><p><strong>Incremental Analysis</strong>: Reuse results across runs</p></li>
<li><p><strong>Parallel Processing</strong>: Some analyses support parallelization (Graspan)</p></li>
</ol>
</section>
<section id="precision-vs-performance">
<h3>Precision vs. Performance<a class="headerlink" href="#precision-vs-performance" title="Link to this heading"></a></h3>
<p>From fastest to most precise:</p>
<ol class="arabic simple">
<li><p><strong>Andersen</strong> (context-insensitive, field-insensitive)</p></li>
<li><p><strong>AserPTA-CI</strong> (context-insensitive, field-sensitive)</p></li>
<li><p><strong>AserPTA-1CFA</strong> (1-call-site sensitive)</p></li>
<li><p><strong>DyckAA</strong> (unification-based, field-sensitive)</p></li>
<li><p><strong>LotusAA</strong> (flow-sensitive, field-sensitive)</p></li>
</ol>
</section>
<section id="recommended-configurations">
<h3>Recommended Configurations<a class="headerlink" href="#recommended-configurations" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Quick Scan</strong>: Andersen or AserPTA-CI</p></li>
<li><p><strong>Balanced</strong>: AserPTA 1-CFA with wave propagation</p></li>
<li><p><strong>Precise</strong>: DyckAA or LotusAA</p></li>
<li><p><strong>Verification</strong>: CLAM with polyhedra domain</p></li>
</ul>
</section>
</section>
<section id="extension-points">
<h2>Extension Points<a class="headerlink" href="#extension-points" title="Link to this heading"></a></h2>
<section id="adding-new-analyses">
<h3>Adding New Analyses<a class="headerlink" href="#adding-new-analyses" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Create LLVM ModulePass or FunctionPass</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">runOnModule()</span></code> or <code class="docutils literal notranslate"><span class="pre">runOnFunction()</span></code></p></li>
<li><p>Query existing analyses (AA, PDG, etc.)</p></li>
<li><p>Register pass in <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></p></li>
<li><p>Add tool in <code class="docutils literal notranslate"><span class="pre">tools/</span></code> directory</p></li>
</ol>
</section>
<section id="adding-new-checkers">
<h3>Adding New Checkers<a class="headerlink" href="#adding-new-checkers" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Extend <code class="docutils literal notranslate"><span class="pre">BugDetectorPass</span></code> base class</p></li>
<li><p>Implement checker logic</p></li>
<li><p>Report bugs via <code class="docutils literal notranslate"><span class="pre">BugReportMgr</span></code></p></li>
<li><p>Add to <code class="docutils literal notranslate"><span class="pre">lotus-kint</span></code> or create new tool</p></li>
</ol>
</section>
<section id="adding-new-abstract-domains">
<h3>Adding New Abstract Domains<a class="headerlink" href="#adding-new-abstract-domains" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Extend CRAB domain interface</p></li>
<li><p>Implement lattice operations</p></li>
<li><p>Register with CLAM</p></li>
<li><p>Add command-line option</p></li>
</ol>
<p>See <a class="reference internal" href="../developer/developer_guide.html"><span class="doc">Developer Guide</span></a> for detailed instructions.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="major_components.html" class="btn btn-neutral float-left" title="Major Components Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="quickstart.html" class="btn btn-neutral float-right" title="Quick Start Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024-2025, ZJU Programming Languages and Automated Reasoning Group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>